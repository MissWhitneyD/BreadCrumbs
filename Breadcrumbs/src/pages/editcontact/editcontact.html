<ion-header>
  <ion-navbar>
    <ion-title>Emergency Contacts</ion-title>
  </ion-navbar>
</ion-header>

<form [formGroup]="editcontact" (ngSubmit)="editcontactForm()">
  <ion-row>
    <ion-col></ion-col>
    <ion-col>

      <ion-row>
        <ion-col>

          <ion-item style="padding-top:50px;">
            <ion-select id="contactSelection" name="contactID" [(ngModel)]="contact" (ionChange)="onSelectChange(contact)" multiple="false" formControlName="contactID" interface="action-sheet">
              <ion-option *ngFor="let contact of contacts; let i = index" [value]="contact" [selected]="i===0">{{contact.ContactFirstName}} {{contact.ContactLastName}}</ion-option>
            </ion-select>
          </ion-item>

          <ion-item>
            <ion-label floating>First Name</ion-label>
            <ion-input [(ngModel)]="contactFirstName" formControlName="firstName" type="text" inputmode="text"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label floating>Last Name</ion-label>
            <ion-input [(ngModel)]="contactLastName" formControlName="lastName" type="text" inputmode="text"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label floating>Phone Number</ion-label>
            <ion-input [(ngModel)]="contactPhoneNumber" formControlName="phoneNumber" type="tel" inputmode="tel"></ion-input>
          </ion-item>

          <ion-item style="padding-bottom:25px">
            <ion-label floating>Email Address</ion-label>
            <ion-input [(ngModel)]="contactEmailAddress" formControlName="emailAddress" type="email" inputmode="email"></ion-input>
          </ion-item>

          <ion-row>
            <ion-col text-center>
              <button ion-button type="submit" [disabled]="!editcontact.valid" style="width:85px; text-align:center; line-height:50%; align-content:center">Save</button>
            </ion-col>
            <ion-col text-center>
              <button ion-button type="button" (click)="deleteContact(i)" style="width:85px; text-align:center; line-height:50%; align-content:center">Delete</button>
            </ion-col>
            <ion-col text-center>
              <button ion-button type="button" (click)="addNewContact()" style="width:85px; text-align:center; line-height:50%; align-content:center">New</button>
            </ion-col>
          </ion-row>
        </ion-col>
      </ion-row>
    </ion-col>
    <ion-col></ion-col>
  </ion-row>
</form>
